
<script type="text/javascript" src="http://iop.io/js/vendor/d3.v3.min.js"></script>
<script type="text/javascript" src="http://iop.io/js/vendor/polymer/PointerEvents/pointerevents.js"></script>
<script type="text/javascript" src="http://iop.io/js/vendor/polymer/PointerGestures/pointergestures.js"></script>
<script type="text/javascript" src="http://iop.io/js/iopctrl.js"></script>
<script type="text/javascript" src="http://bernii.github.io/gauge.js/dist/gauge.min.js"></script>
<div class="row">
  <div class="col col-12">
    <%= image_tag  "sun.png", height: '45', width: '45' %>
    <div class="daytime">
      <span id="date"></span>
      <span id="timenav"></span>
    </div>
  </div>
</div>
<div class="row">
  <div class="col">
    <center>
      <div class="col col-4">
        <select class="form-control" id="month">
          <option value="select" selected>Select month...</option>
          <option value="history">DECEMBER 2018</option>
          <option value="january2018">JANUARY 2018</option>
          <option value="february2018">FEBRUARY 2018</option>
          <option value="march2018">MARCH 2018</option>
          <option value="april2018">APRIL 2018</option>
          <option value="may2018">MAY 2018</option>
          <option value="june2018">JUNE 2018</option>
          <option value="july2018">JULY 2018</option>
          <option value="august2018">AUGUST 2018</option>
          <option value="september2018">SEPTEMBER 2018</option>
          <option value="october2018">OCTOBER 2018</option>
          <option value="november2018">NOVEMBER 2018</option>
          <option value="december2018">DECEMBER 2018</option>
        </select>
        <br>
      </div>
    </center>
  </div>
</div>
<script>
    document.getElementById("month").onchange = function() {
        if (this.selectedIndex!==0) {
            window.location.href = this.value;
        }        
    };
</script>
<br>
<div class="row">
    <div class="col">
        <center>
            <span>
                <p class="value1">MARCH 2018</p>
            <span>
        </center>
    </div>
</div>
<br>


<div class="row">
<!--year month data-->
    <div class= "col" >
        <canvas id="mycanvas"  width="100px" height="50px"></canvas>
    </div>
<!--year month day data-->
    <div class= "col" >
        <canvas id="mycanvas2"  width="100px" height="50px"></canvas>
    </div>
</div>

<!--Table-->
<div class="row">
<!--Table day-->
    <div class="col-md-6 col-sm-6 col-xs-12">
        <center>
            <div>
              <table class="table table-hover table-striped">
                  <thead class="thead-dark">
                        <tr>
                            <th>Date</th>
                            <th>AVG Voltage (v)</th>
                            <th>AVG Current (mA)</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr><td>1</td><td><% marvolt1 = @marvolt1 %><%= marvolt1%></td><td><% marcur1 = @marcur1 %><%= marcur1%></td></tr>
                        <tr><td>2</td><td><% marvolt2 = @marvolt2  %><%= marvolt2%></td><td><% marcur2 = @marcur2 %><%= marcur2%></td></tr>
                        <tr><td>3</td><td><% marvolt3 = @marvolt3  %><%= marvolt3%></td><td><% marcur3 = @marcur3 %><%= marcur3%></td></tr>
                        <tr><td>4</td><td><% marvolt4 = @marvolt4  %><%= marvolt4%></td><td><% marcur4 = @marcur4 %><%= marcur4%></td></tr>
                        <tr><td>5</td><td><% marvolt5 = @marvolt5  %><%= marvolt5%></td><td><% marcur5 = @marcur5 %><%= marcur5%></td></tr>
                        <tr><td>6</td><td><% marvolt6 = @marvolt6  %><%= marvolt6%></td><td><% marcur6 = @marcur6 %><%= marcur6%></td></tr>
                        <tr><td>7</td><td><% marvolt7 = @marvolt7  %><%= marvolt7%></td><td><% marcur7 = @marcur7 %><%= marcur7%></td></tr>
                        <tr><td>8</td><td><% marvolt8 = @marvolt8  %><%= marvolt8%></td><td><% marcur8 = @marcur8 %><%= marcur8%></td></tr>
                        <tr><td>9</td><td><% marvolt9 = @marvolt9  %><%= marvolt9%></td><td><% marcur9 = @marcur9 %><%= marcur9%></td></tr>
                        <tr><td>10</td><td><% marvolt10 = @marvolt10  %><%= marvolt10%></td><td><% marcur10 = @marcur10 %><%= marcur10%></td></tr>
                        <tr><td>11</td><td><% marvolt11 = @marvolt11  %><%= marvolt11%></td><td><% marcur11 = @marcur11 %><%= marcur11%></td></tr>
                        <tr><td>12</td><td><% marvolt12 = @marvolt12  %><%= marvolt12%></td><td><% marcur12 = @marcur12 %><%= marcur12%></td></tr>
                        <tr><td>13</td><td><% marvolt13 = @marvolt13  %><%= marvolt13%></td><td><% marcur13 = @marcur13 %><%= marcur13%></td></tr>
                        <tr><td>14</td><td><% marvolt14 = @marvolt14  %><%= marvolt14%></td><td><% marcur14 = @marcur14 %><%= marcur14%></td></tr>
                        <tr><td>15</td><td><% marvolt15 = @marvolt15  %><%= marvolt15%></td><td><% marcur15 = @marcur15 %><%= marcur15%></td></tr>
                        <tr><td>16</td><td><% marvolt16 = @marvolt16  %><%= marvolt16%></td><td><% marcur16 = @marcur16 %><%= marcur16%></td></tr>
                        <tr><td>17</td><td><% marvolt17 = @marvolt17  %><%= marvolt17%></td><td><% marcur17 = @marcur17 %><%= marcur17%></td></tr>
                        <tr><td>18</td><td><% marvolt18 = @marvolt18  %><%= marvolt18%></td><td><% marcur18 = @marcur18 %><%= marcur18%></td></tr>
                        <tr><td>19</td><td><% marvolt19 = @marvolt19  %><%= marvolt19%></td><td><% marcur19 = @marcur19 %><%= marcur19%></td></tr>
                        <tr><td>20</td><td><% marvolt20 = @marvolt20  %><%= marvolt20%></td><td><% marcur20 = @marcur20 %><%= marcur20%></td></tr>
                        <tr><td>21</td><td><% marvolt21 = @marvolt21  %><%= marvolt21%></td><td><% marcur21 = @marcur21 %><%= marcur21%></td></tr>
                        <tr><td>22</td><td><% marvolt22 = @marvolt22  %><%= marvolt22%></td><td><% marcur22 = @marcur22 %><%= marcur22%></td></tr>
                        <tr><td>23</td><td><% marvolt23 = @marvolt23  %><%= marvolt23%></td><td><% marcur23 = @marcur23 %><%= marcur23%></td></tr>
                        <tr><td>24</td><td><% marvolt24 = @marvolt24  %><%= marvolt24%></td><td><% marcur24 = @marcur24 %><%= marcur24%></td></tr>
                        <tr><td>25</td><td><% marvolt25 = @marvolt25  %><%= marvolt25%></td><td><% marcur25 = @marcur25 %><%= marcur25%></td></tr>
                        <tr><td>26</td><td><% marvolt26 = @marvolt26  %><%= marvolt26%></td><td><% marcur26 = @marcur26 %><%= marcur26%></td></tr>
                        <tr><td>27</td><td><% marvolt27 = @marvolt27  %><%= marvolt27%></td><td><% marcur27 = @marcur27 %><%= marcur27%></td></tr>
                        <tr><td>28</td><td><% marvolt28 = @marvolt28  %><%= marvolt28%></td><td><% marcur28 = @marcur28 %><%= marcur28%></td></tr>
                        <tr><td>29</td><td><% marvolt29 = @marvolt29  %><%= marvolt29%></td><td><% marcur29 = @marcur29 %><%= marcur29%></td></tr>
                        <tr><td>30</td><td><% marvolt30 = @marvolt30  %><%= marvolt30%></td><td><% marcur30 = @marcur30 %><%= marcur30%></td></tr>
                        <tr><td>31</td><td><% marvolt31 = @marvolt31  %><%= marvolt31%></td><td><% marcur31 = @marcur31 %><%= marcur31%></td></tr>

                    </tbody>
                </table>
            </div>
        </center>
    </div>
    <div class="col">
      <center>
          <div class="col col-4">
            <select class="form-control" id="foo">
              <option value="select">Select date...</option>
              <option value="mar1">1 March 2018</option>
              <option value="mar2">2 March 2018</option>
              <option value="mar3">3 March 2018</option>
              <option value="mar4">4 March 2018</option>
              <option value="mar5">5 March 2018</option>
              <option value="mar6">6 March 2018</option>
              <option value="mar7">7 March 2018</option>
              <option value="mar8">8 March 2018</option>
              <option value="mar9">9 March 2018</option>
              <option value="mar10">10 March 2018</option>
              <option value="mar11">11 March 2018</option>
              <option value="mar12">12 March 2018</option>
              <option value="mar13">13 March 2018</option>
              <option value="mar14">14 March 2018</option>
              <option value="mar15">15 March 2018</option>
              <option value="mar16">16 March 2018</option>
              <option value="mar17">17 March 2018</option>
              <option value="mar18">18 March 2018</option>
              <option value="mar19">19 March 2018</option>
              <option value="mar20">20 March 2018</option>
              <option value="mar21" selected>21 March 2018</option>
              <option value="mar22">22 March 2018</option>
              <option value="mar23">23 March 2018</option>
              <option value="mar24">24 March 2018</option>
              <option value="mar25">25 March 2018</option>
              <option value="mar26">26 March 2018</option>
              <option value="mar27">27 March 2018</option>
              <option value="mar28">28 March 2018</option>
              <option value="mar29">29 March 2018</option>
              <option value="mar30">30 March 2018</option>
              <option value="mar31">31 March 2018</option>
            </select>
            <br>
          </div>
          <div class="row"><div class="col col-xs-11"><canvas id="mycanvas1volt"  width="150px" height="60px"></canvas></div></div>
          <div class="row"><div class="col col-xs-11"><canvas id="mycanvas1cur"  width="150px" height="60px"></canvas></div></div>
        </center>
      </div>
    </div>
</div>
<script>
    document.getElementById("foo").onchange = function() {
        if (this.selectedIndex!==0) {
            window.location.href = this.value;
        }        
    };
</script>

</div>
<script> 
  var D = ['1', '2', '3','4', '5', '6', '7', '8', '9', '10', '11', '12', '13', '14', '15', '16', '17', '18', '19', '20', '21', '22', '23', '24', '25', '26', '27', '28', '29', '30', '31'];
  var config = {
    type: 'bar',
    data: {
      labels: D,
      datasets: [{
        label: 'Voltage',
        backgroundColor: "#11f",
        borderColor: "#11f",
       data: [<%= marvolt1%>,<%= marvolt2%>,<%= marvolt3%>,<%= marvolt4%>,<%= marvolt5%>,<%= marvolt6%>,
        <%= marvolt7%>,<%= marvolt8%>,<%= marvolt9%>,<%= marvolt10%>,<%= marvolt11%>,<%= marvolt12%>,
        <%= marvolt13%>,<%= marvolt14%>,<%= marvolt15%>,<%= marvolt16%>,<%= marvolt17%>,<%= marvolt18%>,
        <%= marvolt19%>,<%= marvolt20%>,<%= marvolt21%>,<%= marvolt22%>,<%= marvolt23%>,<%= marvolt24%>,
        <%= marvolt25%>,<%= marvolt26%>,<%= marvolt27%>,<%= marvolt28%>,<%= marvolt29%>,<%= marvolt30%>,<%= marvolt31%>],

        fill: false,
      }]
    },
    options: {
      responsive: true,
      title: {
        display: true,
      },
      tooltips: {
        mode: 'index',
        intersect: false,
      },
      hover: {
        mode: 'nearest',
        intersect: true
      },
      scales: {
        xAxes: [{
          display: true,
          scaleLabel: {
            display: true,
            labelString: 'Date'
          }
        }],
        yAxes: [{
          display: true,
          scaleLabel: {
            display: true,
            labelString: 'Voltage(v)'
          }
        }]
      }
    }
  };
  var config2 = {
    type: 'bar',
    data: {
      labels: D,
      datasets: [{
        label: 'Current',
        backgroundColor: "#a11",
        borderColor: "#a11",
        data: [<%= marcur1%>,<%= marcur2%>,<%= marcur3%>,<%= marcur4%>,<%= marcur5%>,<%= marcur6%>,
        <%= marcur7%>,<%= marcur8%>,<%= marcur9%>,<%= marcur10%>,<%= marcur11%>,<%= marcur12%>,
        <%= marcur13%>,<%= marcur14%>,<%= marcur15%>,<%= marcur16%>,<%= marcur17%>,<%= marcur18%>,
        <%= marcur19%>,<%= marcur20%>,<%= marcur21%>,<%= marcur22%>,<%= marcur23%>,<%= marcur24%>,
        <%= marcur25%>,<%= marcur26%>,<%= marcur27%>,<%= marcur28%>,<%= marcur29%>,<%= marcur30%>,<%= marcur31%>],




        fill: false,
      }]
    },
    options: {
      responsive: true,
      title: {
        display: true,
      },
      tooltips: {
        mode: 'index',
        intersect: false,
      },
      hover: {
        mode: 'nearest',
        intersect: true
      },
      scales: {
        xAxes: [{
          display: true,
          scaleLabel: {
            display: true,
            labelString: 'Date'
          }
        }],
        yAxes: [{
          display: true,
          scaleLabel: {
            display: true,
            labelString: 'Voltage(v)'
          }
        }]
      }
    }
  };
    var T1 = [<% for app in @searchmar21%>"<%= app.created_at.strftime("%I:%M %p") %>",<%end%>];
  var config1volt = {
    type: 'line',
    data: {
      labels: T1,
      datasets: [{label: 'Voltage', backgroundColor: "#11a", borderColor: "#11a",data: [<% for app in @searchmar21%><%= app.Voltage %>,<%end%>],fill: false,}]
    },
    options: {responsive: true,scales: {
        xAxes: [{display: true,scaleLabel: {display: true,labelString: 'Time'}}],
        yAxes: [{display: true,scaleLabel: {display: true,labelString: 'Voltage(v)'}}]
      }
    }
  };
  var config1cur = {
    type: 'line',
    data: {
      labels: T1,
      datasets: [{label: 'Current',backgroundColor: "#a11",borderColor: "#a11", data: [<% for app in @searchmar21%><%= app.Current %>,<%end%>],fill: false,}]
    },
    options: {responsive: true,scales: {
        xAxes: [{display: true,scaleLabel: {display: true,labelString: 'Time'}}],
        yAxes: [{display: true,scaleLabel: {display: true,labelString: 'Current(mA)'}}]
      }
    }
  };

  var ctx = document.getElementById('mycanvas').getContext('2d');
  window.myLine = new Chart(ctx, config);
  var ctx2 = document.getElementById('mycanvas2').getContext('2d');
  window.myLine = new Chart(ctx2, config2);
  var ctx1volt = document.getElementById('mycanvas1volt').getContext('2d');
  window.myLine = new Chart(ctx1volt, config1volt);
  var ctx1cur = document.getElementById('mycanvas1cur').getContext('2d');
  window.myLine = new Chart(ctx1cur, config1cur);
</script>  
