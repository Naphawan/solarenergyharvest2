
<script type="text/javascript" src="http://iop.io/js/vendor/d3.v3.min.js"></script>
<script type="text/javascript" src="http://iop.io/js/vendor/polymer/PointerEvents/pointerevents.js"></script>
<script type="text/javascript" src="http://iop.io/js/vendor/polymer/PointerGestures/pointergestures.js"></script>
<script type="text/javascript" src="http://iop.io/js/iopctrl.js"></script>
<script type="text/javascript" src="http://bernii.github.io/gauge.js/dist/gauge.min.js"></script>
<div class="row">
  <div class="col col-12">
    <%= image_tag  "sun.png", height: '45', width: '45' %>
    <div class="daytime">
      <span id="date"></span>
      <span id="timenav"></span>
    </div>
  </div>
</div>
<div class="row">
  <div class="col">
    <center>
      <div class="col col-4">
        <select class="form-control" id="month">
          <option value="select" selected>Select month...</option>
          <option value="history">DECEMBER 2018</option>
          <option value="january2018">JANUARY 2018</option>
          <option value="february2018">FEBRUARY 2018</option>
          <option value="march2018">MARCH 2018</option>
          <option value="april2018">APRIL 2018</option>
          <option value="may2018">MAY 2018</option>
          <option value="june2018">JUNE 2018</option>
          <option value="july2018">JULY 2018</option>
          <option value="august2018">AUGUST 2018</option>
          <option value="september2018">SEPTEMBER 2018</option>
          <option value="october2018">OCTOBER 2018</option>
          <option value="november2018">NOVEMBER 2018</option>
          <option value="december2018">DECEMBER 2018</option>
        </select>
        <br>
      </div>
    </center>
  </div>
</div>
<br>
<div class="row">
    <div class="col">
        <center>
            <span>
                <p class="value1">JANUARY 2018</p>
            <span>
        </center>
    </div>
</div>
<br>


<div class="row">
<!--year month data-->
    <div class= "col" >
        <canvas id="mycanvas"  width="100px" height="50px"></canvas>
    </div>
<!--year month day data-->
    <div class= "col" >
        <canvas id="mycanvas2"  width="100px" height="50px"></canvas>
    </div>
</div>

<!--Table-->
<div class="row">
<!--Table day-->
    <div class="col-md-6 col-sm-6 col-xs-12">
        <center>
            <div>
              <table class="table table-hover table-striped">
                  <thead class="thead-dark">
                        <tr>
                            <th>Date</th>
                            <th>AVG Voltage (v)</th>
                            <th>AVG Current (mA)</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr><td>1</td><td><% janvolt1 = @janvolt1 %><%= janvolt1%></td><td><% jancur1 = @jancur1 %><%= jancur1%></td></tr>
                        <tr><td>2</td><td><% janvolt2 = @janvolt2  %><%= janvolt2%></td><td><% jancur2 = @jancur2 %><%= jancur2%></td></tr>
                        <tr><td>3</td><td><% janvolt3 = @janvolt3  %><%= janvolt3%></td><td><% jancur3 = @jancur3 %><%= jancur3%></td></tr>
                        <tr><td>4</td><td><% janvolt4 = @janvolt4  %><%= janvolt4%></td><td><% jancur4 = @jancur4 %><%= jancur4%></td></tr>
                        <tr><td>5</td><td><% janvolt5 = @janvolt5  %><%= janvolt5%></td><td><% jancur5 = @jancur5 %><%= jancur5%></td></tr>
                        <tr><td>6</td><td><% janvolt6 = @janvolt6  %><%= janvolt6%></td><td><% jancur6 = @jancur6 %><%= jancur6%></td></tr>
                        <tr><td>7</td><td><% janvolt7 = @janvolt7  %><%= janvolt7%></td><td><% jancur7 = @jancur7 %><%= jancur7%></td></tr>
                        <tr><td>8</td><td><% janvolt8 = @janvolt8  %><%= janvolt8%></td><td><% jancur8 = @jancur8 %><%= jancur8%></td></tr>
                        <tr><td>9</td><td><% janvolt9 = @janvolt9  %><%= janvolt9%></td><td><% jancur9 = @jancur9 %><%= jancur9%></td></tr>
                        <tr><td>10</td><td><% janvolt10 = @janvolt10  %><%= janvolt10%></td><td><% jancur10 = @jancur10 %><%= jancur10%></td></tr>
                        <tr><td>11</td><td><% janvolt11 = @janvolt11  %><%= janvolt11%></td><td><% jancur11 = @jancur11 %><%= jancur11%></td></tr>
                        <tr><td>12</td><td><% janvolt12 = @janvolt12  %><%= janvolt12%></td><td><% jancur12 = @jancur12 %><%= jancur12%></td></tr>
                        <tr><td>13</td><td><% janvolt13 = @janvolt13  %><%= janvolt13%></td><td><% jancur13 = @jancur13 %><%= jancur13%></td></tr>
                        <tr><td>14</td><td><% janvolt14 = @janvolt14  %><%= janvolt14%></td><td><% jancur14 = @jancur14 %><%= jancur14%></td></tr>
                        <tr><td>15</td><td><% janvolt15 = @janvolt15  %><%= janvolt15%></td><td><% jancur15 = @jancur15 %><%= jancur15%></td></tr>
                        <tr><td>16</td><td><% janvolt16 = @janvolt16  %><%= janvolt16%></td><td><% jancur16 = @jancur16 %><%= jancur16%></td></tr>
                        <tr><td>17</td><td><% janvolt17 = @janvolt17  %><%= janvolt17%></td><td><% jancur17 = @jancur17 %><%= jancur17%></td></tr>
                        <tr><td>18</td><td><% janvolt18 = @janvolt18  %><%= janvolt18%></td><td><% jancur18 = @jancur18 %><%= jancur18%></td></tr>
                        <tr><td>19</td><td><% janvolt19 = @janvolt19  %><%= janvolt19%></td><td><% jancur19 = @jancur19 %><%= jancur19%></td></tr>
                        <tr><td>20</td><td><% janvolt20 = @janvolt20  %><%= janvolt20%></td><td><% jancur20 = @jancur20 %><%= jancur20%></td></tr>
                        <tr><td>21</td><td><% janvolt21 = @janvolt21  %><%= janvolt21%></td><td><% jancur21 = @jancur21 %><%= jancur21%></td></tr>
                        <tr><td>22</td><td><% janvolt22 = @janvolt22  %><%= janvolt22%></td><td><% jancur22 = @jancur22 %><%= jancur22%></td></tr>
                        <tr><td>23</td><td><% janvolt23 = @janvolt23  %><%= janvolt23%></td><td><% jancur23 = @jancur23 %><%= jancur23%></td></tr>
                        <tr><td>24</td><td><% janvolt24 = @janvolt24  %><%= janvolt24%></td><td><% jancur24 = @jancur24 %><%= jancur24%></td></tr>
                        <tr><td>25</td><td><% janvolt25 = @janvolt25  %><%= janvolt25%></td><td><% jancur25 = @jancur25 %><%= jancur25%></td></tr>
                        <tr><td>26</td><td><% janvolt26 = @janvolt26  %><%= janvolt26%></td><td><% jancur26 = @jancur26 %><%= jancur26%></td></tr>
                        <tr><td>27</td><td><% janvolt27 = @janvolt27  %><%= janvolt27%></td><td><% jancur27 = @jancur27 %><%= jancur27%></td></tr>
                        <tr><td>28</td><td><% janvolt28 = @janvolt28  %><%= janvolt28%></td><td><% jancur28 = @jancur28 %><%= jancur28%></td></tr>
                        <tr><td>29</td><td><% janvolt29 = @janvolt29  %><%= janvolt29%></td><td><% jancur29 = @jancur29 %><%= jancur29%></td></tr>
                        <tr><td>30</td><td><% janvolt30 = @janvolt30  %><%= janvolt30%></td><td><% jancur30 = @jancur30 %><%= jancur30%></td></tr>
                        <tr><td>31</td><td><% janvolt31 = @janvolt31  %><%= janvolt31%></td><td><% jancur31 = @jancur31 %><%= jancur31%></td></tr>

                    </tbody>
                </table>
            </div>
        </center>
    </div>
    <div class="col">
      <center>
          <div class="col col-4">
            <select class="form-control" id="foo">
              <option value="select">Select date...</option>
              <option value="jan1">1 January 2018</option>
              <option value="jan2" selected>2 January 2018</option>
              <option value="jan3">3 January 2018</option>
              <option value="jan4">4 January 2018</option>
              <option value="jan5">5 January 2018</option>
              <option value="jan6">6 January 2018</option>
              <option value="jan7">7 January 2018</option>
              <option value="jan8">8 January 2018</option>
              <option value="jan9">9 January 2018</option>
              <option value="jan10">10 January 2018</option>
              <option value="jan11">11 January 2018</option>
              <option value="jan12">12 January 2018</option>
              <option value="jan13">13 January 2018</option>
              <option value="jan14">14 January 2018</option>
              <option value="jan15">15 January 2018</option>
              <option value="jan16">16 January 2018</option>
              <option value="jan17">17 January 2018</option>
              <option value="jan18">18 January 2018</option>
              <option value="jan19">19 January 2018</option>
              <option value="jan20">20 January 2018</option>
              <option value="jan21">21 January 2018</option>
              <option value="jan22">22 January 2018</option>
              <option value="jan23">23 January 2018</option>
              <option value="jan24">24 January 2018</option>
              <option value="jan25">25 January 2018</option>
              <option value="jan26">26 January 2018</option>
              <option value="jan27">27 January 2018</option>
              <option value="jan28">28 January 2018</option>
              <option value="jan29">29 January 2018</option>
              <option value="jan30">30 January 2018</option>
              <option value="jan31">31 January 2018</option>


            </select>
            <br>
           </div>
            <div class="row"><div class="col col-xs-11"><canvas id="mycanvas1volt"  width="150px" height="60px"></canvas></div></div>
            <div class="row"><div class="col col-xs-11"><canvas id="mycanvas1cur"  width="150px" height="60px"></canvas></div></div>
        </center>
      </div>
    </div>
</div>
<script>
    document.getElementById("foo").onchange = function() {
        if (this.selectedIndex!==0) {
            window.location.href = this.value;
        }        
    };
</script>
<script>
    document.getElementById("month").onchange = function() {
        if (this.selectedIndex!==0) {
            window.location.href = this.value;
        }        
    };
</script>
<script> 
  var D = ['1', '2', '3','4', '5', '6', '7', '8', '9', '10', '11', '12', '13', '14', '15', '16', '17', '18', '19', '20', '21', '22', '23', '24', '25', '26', '27', '28', '29', '30', '31'];
  var config = {
    type: 'bar',
    data: {
      labels: D,
      datasets: [{
        label: 'Voltage',
        backgroundColor: "#11f",
        borderColor: "#11f",
        data: [<%= janvolt1%>,<%= janvolt2%>,<%= janvolt3%>,<%= janvolt4%>,<%= janvolt5%>,<%= janvolt6%>,
        <%= janvolt7%>,<%= janvolt8%>,<%= janvolt9%>,<%= janvolt10%>,<%= janvolt11%>,<%= janvolt12%>,
        <%= janvolt13%>,<%= janvolt14%>,<%= janvolt15%>,<%= janvolt16%>,<%= janvolt17%>,<%= janvolt18%>,
        <%= janvolt19%>,<%= janvolt20%>,<%= janvolt21%>,<%= janvolt22%>,<%= janvolt23%>,<%= janvolt24%>,
        <%= janvolt25%>,<%= janvolt26%>,<%= janvolt27%>,<%= janvolt28%>,<%= janvolt29%>,<%= janvolt30%>,<%= janvolt31%>],

        fill: false,
      }]
    },
    options: {
      responsive: true,
      title: {
        display: true,
      },
      tooltips: {
        mode: 'index',
        intersect: false,
      },
      hover: {
        mode: 'nearest',
        intersect: true
      },
      scales: {
        xAxes: [{
          display: true,
          scaleLabel: {
            display: true,
            labelString: 'Date'
          }
        }],
        yAxes: [{
          display: true,
          scaleLabel: {
            display: true,
            labelString: 'Voltage(v)'
          }
        }]
      }
    }
  };
  var config2 = {
    type: 'bar',
    data: {
      labels: D,
      datasets: [{
        label: 'Current',
        backgroundColor: "#a11",
        borderColor: "#a11",
        data: [<%= jancur1%>,<%= jancur2%>,<%= jancur3%>,<%= jancur4%>,<%= jancur5%>,<%= jancur6%>,
        <%= jancur7%>,<%= jancur8%>,<%= jancur9%>,<%= jancur10%>,<%= jancur11%>,<%= jancur12%>,
        <%= jancur13%>,<%= jancur14%>,<%= jancur15%>,<%= jancur16%>,<%= jancur17%>,<%= jancur18%>,
        <%= jancur19%>,<%= jancur20%>,<%= jancur21%>,<%= jancur22%>,<%= jancur23%>,<%= jancur24%>,
        <%= jancur25%>,<%= jancur26%>,<%= jancur27%>,<%= jancur28%>,<%= jancur29%>,<%= jancur30%>,<%= jancur31%>],



        fill: false,
      }]
    },
    options: {responsive: true, title: { display: true, }, tooltips: { mode: 'index', intersect: false, }, hover: { mode: 'nearest',intersect: true }, scales: {
        xAxes: [{display: true, scaleLabel: {display: true,labelString: 'Date' }}],
        yAxes: [{display: true,scaleLabel: { display: true,labelString: 'Voltage(v)'}}]
      }
    }
  };
  var T1 = [<% for app in @searchjan2%>"<%= app.created_at.strftime("%I:%M %p") %>",<%end%>];
  var config1volt = {
    type: 'line',
    data: {
      labels: T1,
      datasets: [{label: 'Voltage', backgroundColor: "#11a", borderColor: "#11a",data: [<% for app in @searchjan2%><%= app.Voltage %>,<%end%>],fill: false,}]
    },
    options: {responsive: true,scales: {
        xAxes: [{display: true,scaleLabel: {display: true,labelString: 'Time'}}],
        yAxes: [{display: true,scaleLabel: {display: true,labelString: 'Voltage(v)'}}]
      }
    }
  };
  var config1cur = {
    type: 'line',
    data: {
      labels: T1,
      datasets: [{label: 'Current',backgroundColor: "#a11",borderColor: "#a11", data: [<% for app in @searchjan2%><%= app.Current %>,<%end%>],fill: false,}]
    },
    options: {responsive: true,scales: {
        xAxes: [{display: true,scaleLabel: {display: true,labelString: 'Time'}}],
        yAxes: [{display: true,scaleLabel: {display: true,labelString: 'Current(mA)'}}]
      }
    }
  };

  var ctx = document.getElementById('mycanvas').getContext('2d');
  window.myLine = new Chart(ctx, config);
  var ctx2 = document.getElementById('mycanvas2').getContext('2d');
  window.myLine = new Chart(ctx2, config2);
  var ctx1volt = document.getElementById('mycanvas1volt').getContext('2d');
  window.myLine = new Chart(ctx1volt, config1volt);
  var ctx1cur = document.getElementById('mycanvas1cur').getContext('2d');
  window.myLine = new Chart(ctx1cur, config1cur);
</script>  
