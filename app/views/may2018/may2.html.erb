
<script type="text/javascript" src="http://iop.io/js/vendor/d3.v3.min.js"></script>
<script type="text/javascript" src="http://iop.io/js/vendor/polymer/PointerEvents/pointerevents.js"></script>
<script type="text/javascript" src="http://iop.io/js/vendor/polymer/PointerGestures/pointergestures.js"></script>
<script type="text/javascript" src="http://iop.io/js/iopctrl.js"></script>
<script type="text/javascript" src="http://bernii.github.io/gauge.js/dist/gauge.min.js"></script>
<div class="row">
  <div class="col col-12">
    <%= image_tag  "sun.png", height: '45', width: '45' %>
    <div class="daytime">
      <span id="date"></span>
      <span id="timenav"></span>
    </div>
  </div>
</div>
<div class="row">
  <div class="col">
    <center>
      <div class="col col-4">
        <select class="form-control" id="month">
          <option value="select" selected>Select month...</option>
          <option value="history">DECEMBER 2018</option>
          <option value="january2018">JANUARY 2018</option>
          <option value="february2018">FEBRUARY 2018</option>
          <option value="march2018">MARCH 2018</option>
          <option value="april2018">APRIL 2018</option>
          <option value="may2018">MAY 2018</option>
          <option value="june2018">JUNE 2018</option>
          <option value="july2018">JULY 2018</option>
          <option value="august2018">AUGUST 2018</option>
          <option value="september2018">SEPTEMBER 2018</option>
          <option value="october2018">OCTOBER 2018</option>
          <option value="november2018">NOVEMBER 2018</option>
          <option value="december2018">DECEMBER 2018</option>
        </select>
        <br>
      </div>
    </center>
  </div>
</div>
<script>
    document.getElementById("month").onchange = function() {
        if (this.selectedIndex!==0) {
            window.location.href = this.value;
        }        
    };
</script>
<br>
<div class="row">
    <div class="col">
        <center>
            <span>
                <p class="value1">MAY 2018</p>
            <span>
        </center>
    </div>
</div>
<br>


<div class="row">
<!--year month data-->
    <div class= "col" >
        <canvas id="mycanvas"  width="100px" height="50px"></canvas>
    </div>
<!--year month day data-->
    <div class= "col" >
        <canvas id="mycanvas2"  width="100px" height="50px"></canvas>
    </div>
</div>

<!--Table-->
<div class="row">
<!--Table day-->
    <div class="col-md-6 col-sm-6 col-xs-12">
        <center>
            <div>
              <table class="table table-hover table-striped">
                  <thead class="thead-dark">
                        <tr>
                            <th>Date</th>
                            <th>AVG Voltage (v)</th>
                            <th>AVG Current (mA)</th>
                        </tr>
                    </thead>
                   <tbody>
                        <tr><td>1</td><td><% mayvolt1 = @mayvolt1 %><%= mayvolt1%></td><td><% maycur1 = @maycur1 %><%= maycur1%></td></tr>
                        <tr><td>2</td><td><% mayvolt2 = @mayvolt2  %><%= mayvolt2%></td><td><% maycur2 = @maycur2 %><%= maycur2%></td></tr>
                        <tr><td>3</td><td><% mayvolt3 = @mayvolt3  %><%= mayvolt3%></td><td><% maycur3 = @maycur3 %><%= maycur3%></td></tr>
                        <tr><td>4</td><td><% mayvolt4 = @mayvolt4  %><%= mayvolt4%></td><td><% maycur4 = @maycur4 %><%= maycur4%></td></tr>
                        <tr><td>5</td><td><% mayvolt5 = @mayvolt5  %><%= mayvolt5%></td><td><% maycur5 = @maycur5 %><%= maycur5%></td></tr>
                        <tr><td>6</td><td><% mayvolt6 = @mayvolt6  %><%= mayvolt6%></td><td><% maycur6 = @maycur6 %><%= maycur6%></td></tr>
                        <tr><td>7</td><td><% mayvolt7 = @mayvolt7  %><%= mayvolt7%></td><td><% maycur7 = @maycur7 %><%= maycur7%></td></tr>
                        <tr><td>8</td><td><% mayvolt8 = @mayvolt8  %><%= mayvolt8%></td><td><% maycur8 = @maycur8 %><%= maycur8%></td></tr>
                        <tr><td>9</td><td><% mayvolt9 = @mayvolt9  %><%= mayvolt9%></td><td><% maycur9 = @maycur9 %><%= maycur9%></td></tr>
                        <tr><td>10</td><td><% mayvolt10 = @mayvolt10  %><%= mayvolt10%></td><td><% maycur10 = @maycur10 %><%= maycur10%></td></tr>
                        <tr><td>11</td><td><% mayvolt11 = @mayvolt11  %><%= mayvolt11%></td><td><% maycur11 = @maycur11 %><%= maycur11%></td></tr>
                        <tr><td>12</td><td><% mayvolt12 = @mayvolt12  %><%= mayvolt12%></td><td><% maycur12 = @maycur12 %><%= maycur12%></td></tr>
                        <tr><td>13</td><td><% mayvolt13 = @mayvolt13  %><%= mayvolt13%></td><td><% maycur13 = @maycur13 %><%= maycur13%></td></tr>
                        <tr><td>14</td><td><% mayvolt14 = @mayvolt14  %><%= mayvolt14%></td><td><% maycur14 = @maycur14 %><%= maycur14%></td></tr>
                        <tr><td>15</td><td><% mayvolt15 = @mayvolt15  %><%= mayvolt15%></td><td><% maycur15 = @maycur15 %><%= maycur15%></td></tr>
                        <tr><td>16</td><td><% mayvolt16 = @mayvolt16  %><%= mayvolt16%></td><td><% maycur16 = @maycur16 %><%= maycur16%></td></tr>
                        <tr><td>17</td><td><% mayvolt17 = @mayvolt17  %><%= mayvolt17%></td><td><% maycur17 = @maycur17 %><%= maycur17%></td></tr>
                        <tr><td>18</td><td><% mayvolt18 = @mayvolt18  %><%= mayvolt18%></td><td><% maycur18 = @maycur18 %><%= maycur18%></td></tr>
                        <tr><td>19</td><td><% mayvolt19 = @mayvolt19  %><%= mayvolt19%></td><td><% maycur19 = @maycur19 %><%= maycur19%></td></tr>
                        <tr><td>20</td><td><% mayvolt20 = @mayvolt20  %><%= mayvolt20%></td><td><% maycur20 = @maycur20 %><%= maycur20%></td></tr>
                        <tr><td>21</td><td><% mayvolt21 = @mayvolt21  %><%= mayvolt21%></td><td><% maycur21 = @maycur21 %><%= maycur21%></td></tr>
                        <tr><td>22</td><td><% mayvolt22 = @mayvolt22  %><%= mayvolt22%></td><td><% maycur22 = @maycur22 %><%= maycur22%></td></tr>
                        <tr><td>23</td><td><% mayvolt23 = @mayvolt23  %><%= mayvolt23%></td><td><% maycur23 = @maycur23 %><%= maycur23%></td></tr>
                        <tr><td>24</td><td><% mayvolt24 = @mayvolt24  %><%= mayvolt24%></td><td><% maycur24 = @maycur24 %><%= maycur24%></td></tr>
                        <tr><td>25</td><td><% mayvolt25 = @mayvolt25  %><%= mayvolt25%></td><td><% maycur25 = @maycur25 %><%= maycur25%></td></tr>
                        <tr><td>26</td><td><% mayvolt26 = @mayvolt26  %><%= mayvolt26%></td><td><% maycur26 = @maycur26 %><%= maycur26%></td></tr>
                        <tr><td>27</td><td><% mayvolt27 = @mayvolt27  %><%= mayvolt27%></td><td><% maycur27 = @maycur27 %><%= maycur27%></td></tr>
                        <tr><td>28</td><td><% mayvolt28 = @mayvolt28  %><%= mayvolt28%></td><td><% maycur28 = @maycur28 %><%= maycur28%></td></tr>
                        <tr><td>29</td><td><% mayvolt29 = @mayvolt29  %><%= mayvolt29%></td><td><% maycur29 = @maycur29 %><%= maycur29%></td></tr>
                        <tr><td>30</td><td><% mayvolt30 = @mayvolt30  %><%= mayvolt30%></td><td><% maycur30 = @maycur30 %><%= maycur30%></td></tr>
                        <tr><td>31</td><td><% mayvolt31 = @mayvolt31  %><%= mayvolt31%></td><td><% maycur31 = @maycur31 %><%= maycur31%></td></tr>

                    </tbody>
                </table>
            </div>
        </center>
    </div>
    <div class="col">
      <center>
          <div class="col col-4">
            <select class="form-control" id="foo">
              <option value="select">Select date...</option>
              <option value="may1">1 May 2018</option>
              <option value="may2" selected>2 May 2018</option>
              <option value="may3">3 May 2018</option>
              <option value="may4">4 May 2018</option>
              <option value="may5">5 May 2018</option>
              <option value="may6">6 May 2018</option>
              <option value="may7">7 May 2018</option>
              <option value="may8">8 May 2018</option>
              <option value="may9">9 May 2018</option>
              <option value="may10">10 May 2018</option>
              <option value="may11">11 May 2018</option>
              <option value="may12">12 May 2018</option>
              <option value="may13">13 May 2018</option>
              <option value="may14">14 May 2018</option>
              <option value="may15">15 May 2018</option>
              <option value="may16">16 May 2018</option>
              <option value="may17">17 May 2018</option>
              <option value="may18">18 May 2018</option>
              <option value="may19">19 May 2018</option>
              <option value="may20">20 May 2018</option>
              <option value="may21">21 May 2018</option>
              <option value="may22">22 May 2018</option>
              <option value="may23">23 May 2018</option>
              <option value="may24">24 May 2018</option>
              <option value="may25">25 May 2018</option>
              <option value="may26">26 May 2018</option>
              <option value="may27">27 May 2018</option>
              <option value="may28">28 May 2018</option>
              <option value="may29">29 May 2018</option>
              <option value="may30">30 May 2018</option>
              <option value="may31">31 May 2018</option>

            </select>
            <br>
          </div>          
          <div class="row"><div class="col col-xs-11"><canvas id="mycanvas1volt"  width="150px" height="60px"></canvas></div></div>
          <div class="row"><div class="col col-xs-11"><canvas id="mycanvas1cur"  width="150px" height="60px"></canvas></div></div>
        </center>
      </div>
    </div>
</div>
<script>
    document.getElementById("foo").onchange = function() {
        if (this.selectedIndex!==0) {
            window.location.href = this.value;
        }        
    };
</script>

</div>
<script> 
  var D = ['1', '2', '3','4', '5', '6', '7', '8', '9', '10', '11', '12', '13', '14', '15', '16', '17', '18', '19', '20', '21', '22', '23', '24', '25', '26', '27', '28', '29', '30', '31'];
  var config = {
    type: 'bar',
    data: {
      labels: D,
      datasets: [{
        label: 'Voltage',
        backgroundColor: "#11f",
        borderColor: "#11f",
        data: [<%= mayvolt1%>,<%= mayvolt2%>,<%= mayvolt3%>,<%= mayvolt4%>,<%= mayvolt5%>,<%= mayvolt6%>,
        <%= mayvolt7%>,<%= mayvolt8%>,<%= mayvolt9%>,<%= mayvolt10%>,<%= mayvolt11%>,<%= mayvolt12%>,
        <%= mayvolt13%>,<%= mayvolt14%>,<%= mayvolt15%>,<%= mayvolt16%>,<%= mayvolt17%>,<%= mayvolt18%>,
        <%= mayvolt19%>,<%= mayvolt20%>,<%= mayvolt21%>,<%= mayvolt22%>,<%= mayvolt23%>,<%= mayvolt24%>,
        <%= mayvolt25%>,<%= mayvolt26%>,<%= mayvolt27%>,<%= mayvolt28%>,<%= mayvolt29%>,<%= mayvolt30%>,<%= mayvolt31%>],

        fill: false,
      }]
    },
    options: {
      responsive: true,
      title: {
        display: true,
      },
      tooltips: {
        mode: 'index',
        intersect: false,
      },
      hover: {
        mode: 'nearest',
        intersect: true
      },
      scales: {
        xAxes: [{
          display: true,
          scaleLabel: {
            display: true,
            labelString: 'Date'
          }
        }],
        yAxes: [{
          display: true,
          scaleLabel: {
            display: true,
            labelString: 'Voltage(v)'
          }
        }]
      }
    }
  };
  var config2 = {
    type: 'bar',
    data: {
      labels: D,
      datasets: [{
        label: 'Current',
        backgroundColor: "#a11",
        borderColor: "#a11",
        data: [<%= maycur1%>,<%= maycur2%>,<%= maycur3%>,<%= maycur4%>,<%= maycur5%>,<%= maycur6%>,
        <%= maycur7%>,<%= maycur8%>,<%= maycur9%>,<%= maycur10%>,<%= maycur11%>,<%= maycur12%>,
        <%= maycur13%>,<%= maycur14%>,<%= maycur15%>,<%= maycur16%>,<%= maycur17%>,<%= maycur18%>,
        <%= maycur19%>,<%= maycur20%>,<%= maycur21%>,<%= maycur22%>,<%= maycur23%>,<%= maycur24%>,
        <%= maycur25%>,<%= maycur26%>,<%= maycur27%>,<%= maycur28%>,<%= maycur29%>,<%= maycur30%>,<%= maycur31%>],





        fill: false,
      }]
    },
    options: {
      responsive: true,
      title: {
        display: true,
      },
      tooltips: {
        mode: 'index',
        intersect: false,
      },
      hover: {
        mode: 'nearest',
        intersect: true
      },
      scales: {
        xAxes: [{
          display: true,
          scaleLabel: {
            display: true,
            labelString: 'Date'
          }
        }],
        yAxes: [{
          display: true,
          scaleLabel: {
            display: true,
            labelString: 'Voltage(v)'
          }
        }]
      }
    }
  };
  var T1 = [<% for app in @searchmay2%>"<%= app.created_at.strftime("%I:%M %p") %>",<%end%>];
  var config1volt = {
    type: 'line',
    data: {
      labels: T1,
      datasets: [{label: 'Voltage', backgroundColor: "#11a", borderColor: "#11a",data: [<% for app in @searchmay2%><%= app.Voltage %>,<%end%>],fill: false,}]
    },
    options: {responsive: true,scales: {
        xAxes: [{display: true,scaleLabel: {display: true,labelString: 'Time'}}],
        yAxes: [{display: true,scaleLabel: {display: true,labelString: 'Voltage(v)'}}]
      }
    }
  };
  var config1cur = {
    type: 'line',
    data: {
      labels: T1,
      datasets: [{label: 'Current',backgroundColor: "#a11",borderColor: "#a11", data: [<% for app in @searchmay2%><%= app.Current %>,<%end%>],fill: false,}]
    },
    options: {responsive: true,scales: {
        xAxes: [{display: true,scaleLabel: {display: true,labelString: 'Time'}}],
        yAxes: [{display: true,scaleLabel: {display: true,labelString: 'Current(mA)'}}]
      }
    }
  };
  var ctx = document.getElementById('mycanvas').getContext('2d');
  window.myLine = new Chart(ctx, config);
  var ctx2 = document.getElementById('mycanvas2').getContext('2d');
  window.myLine = new Chart(ctx2, config2);
  var ctx1volt = document.getElementById('mycanvas1volt').getContext('2d');
  window.myLine = new Chart(ctx1volt, config1volt);
  var ctx1cur = document.getElementById('mycanvas1cur').getContext('2d');
  window.myLine = new Chart(ctx1cur, config1cur);
</script>  
