
<script type="text/javascript" src="http://iop.io/js/vendor/d3.v3.min.js"></script>
<script type="text/javascript" src="http://iop.io/js/vendor/polymer/PointerEvents/pointerevents.js"></script>
<script type="text/javascript" src="http://iop.io/js/vendor/polymer/PointerGestures/pointergestures.js"></script>
<script type="text/javascript" src="http://iop.io/js/iopctrl.js"></script>
<script type="text/javascript" src="http://bernii.github.io/gauge.js/dist/gauge.min.js"></script>
<div class="row">
  <div class="col col-12">
    <%= image_tag  "sun.png", height: '45', width: '45' %>
    <div class="daytime">
      <span id="date"></span>
      <span id="timenav"></span>
    </div>
  </div>
</div>
<!--Select vol or cur-->
<div class="row">
    <div class="col">
        <center>
            <span>
                <%= link_to '<button class="btn btn-primary " name="DECEMBER" type="button">DECEMBER 2017</button>'.html_safe, history_path %>
                <%= link_to '<button class="btn btn-primary " name="JANUARY" type="button">JANUARY 2018</button>'.html_safe, january2018_path %>
                <%= link_to '<button class="btn btn-primary " name="FEBRUARY" type="button">FEBRUARY 2018</button>'.html_safe, february2018_path %>
                <%= link_to '<button class="btn btn-primary " name="MARCH" type="button">MARCH 2018</button>'.html_safe, march2018_path %>
                <%= link_to '<button class="btn btn-primary " name="APRIL" type="button">APRIL 2018</button>'.html_safe, april2018_path %>
                <%= link_to '<button class="btn btn-primary " name="MAY" type="button">MAY 2018</button>'.html_safe, may2018_path %>
            <span>
        </center>
    </div>
</div>
<br>
<div class="row">
    <div class="col">
        <center>
            <span>
                <p class="value1">APRIL 2018</p>
            <span>
        </center>
    </div>
</div>
<br>


<div class="row">
<!--year month data-->
    <div class= "col" >
        <canvas id="mycanvas"  width="100px" height="50px"></canvas>
    </div>
<!--year month day data-->
    <div class= "col" >
        <canvas id="mycanvas2"  width="100px" height="50px"></canvas>
    </div>
</div>

<!--Table-->
<div class="row">
<!--Table day-->
    <div class="col-md-6 col-sm-6 col-xs-12">
        <center>
            <div>
               <table class="table table-hover table-striped">
                  <thead class="thead-dark">
                        <tr>
                            <th>Date</th>
                            <th>AVG Voltage (v)</th>
                            <th>AVG Current (mA)</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr><td>1</td><td><% aprvolt1 = @aprvolt1 %><%= aprvolt1%></td><td><% aprcur1 = @aprcur1 %><%= aprcur1%></td></tr>
                        <tr><td>2</td><td><% aprvolt2 = @aprvolt2  %><%= aprvolt2%></td><td><% aprcur2 = @aprcur2 %><%= aprcur2%></td></tr>
                        <tr><td>3</td><td><% aprvolt3 = @aprvolt3  %><%= aprvolt3%></td><td><% aprcur3 = @aprcur3 %><%= aprcur3%></td></tr>
                        <tr><td>4</td><td><% aprvolt4 = @aprvolt4  %><%= aprvolt4%></td><td><% aprcur4 = @aprcur4 %><%= aprcur4%></td></tr>
                        <tr><td>5</td><td><% aprvolt5 = @aprvolt5  %><%= aprvolt5%></td><td><% aprcur5 = @aprcur5 %><%= aprcur5%></td></tr>
                        <tr><td>6</td><td><% aprvolt6 = @aprvolt6  %><%= aprvolt6%></td><td><% aprcur6 = @aprcur6 %><%= aprcur6%></td></tr>
                        <tr><td>7</td><td><% aprvolt7 = @aprvolt7  %><%= aprvolt7%></td><td><% aprcur7 = @aprcur7 %><%= aprcur7%></td></tr>
                        <tr><td>8</td><td><% aprvolt8 = @aprvolt8  %><%= aprvolt8%></td><td><% aprcur8 = @aprcur8 %><%= aprcur8%></td></tr>
                        <tr><td>9</td><td><% aprvolt9 = @aprvolt9  %><%= aprvolt9%></td><td><% aprcur9 = @aprcur9 %><%= aprcur9%></td></tr>
                        <tr><td>10</td><td><% aprvolt10 = @aprvolt10  %><%= aprvolt10%></td><td><% aprcur10 = @aprcur10 %><%= aprcur10%></td></tr>
                        <tr><td>11</td><td><% aprvolt11 = @aprvolt11  %><%= aprvolt11%></td><td><% aprcur11 = @aprcur11 %><%= aprcur11%></td></tr>
                        <tr><td>12</td><td><% aprvolt12 = @aprvolt12  %><%= aprvolt12%></td><td><% aprcur12 = @aprcur12 %><%= aprcur12%></td></tr>
                        <tr><td>13</td><td><% aprvolt13 = @aprvolt13  %><%= aprvolt13%></td><td><% aprcur13 = @aprcur13 %><%= aprcur13%></td></tr>
                        <tr><td>14</td><td><% aprvolt14 = @aprvolt14  %><%= aprvolt14%></td><td><% aprcur14 = @aprcur14 %><%= aprcur14%></td></tr>
                        <tr><td>15</td><td><% aprvolt15 = @aprvolt15  %><%= aprvolt15%></td><td><% aprcur15 = @aprcur15 %><%= aprcur15%></td></tr>
                        <tr><td>16</td><td><% aprvolt16 = @aprvolt16  %><%= aprvolt16%></td><td><% aprcur16 = @aprcur16 %><%= aprcur16%></td></tr>
                        <tr><td>17</td><td><% aprvolt17 = @aprvolt17  %><%= aprvolt17%></td><td><% aprcur17 = @aprcur17 %><%= aprcur17%></td></tr>
                        <tr><td>18</td><td><% aprvolt18 = @aprvolt18  %><%= aprvolt18%></td><td><% aprcur18 = @aprcur18 %><%= aprcur18%></td></tr>
                        <tr><td>19</td><td><% aprvolt19 = @aprvolt19  %><%= aprvolt19%></td><td><% aprcur19 = @aprcur19 %><%= aprcur19%></td></tr>
                        <tr><td>20</td><td><% aprvolt20 = @aprvolt20  %><%= aprvolt20%></td><td><% aprcur20 = @aprcur20 %><%= aprcur20%></td></tr>
                        <tr><td>21</td><td><% aprvolt21 = @aprvolt21  %><%= aprvolt21%></td><td><% aprcur21 = @aprcur21 %><%= aprcur21%></td></tr>
                        <tr><td>22</td><td><% aprvolt22 = @aprvolt22  %><%= aprvolt22%></td><td><% aprcur22 = @aprcur22 %><%= aprcur22%></td></tr>
                        <tr><td>23</td><td><% aprvolt23 = @aprvolt23  %><%= aprvolt23%></td><td><% aprcur23 = @aprcur23 %><%= aprcur23%></td></tr>
                        <tr><td>24</td><td><% aprvolt24 = @aprvolt24  %><%= aprvolt24%></td><td><% aprcur24 = @aprcur24 %><%= aprcur24%></td></tr>
                        <tr><td>25</td><td><% aprvolt25 = @aprvolt25  %><%= aprvolt25%></td><td><% aprcur25 = @aprcur25 %><%= aprcur25%></td></tr>
                        <tr><td>26</td><td><% aprvolt26 = @aprvolt26  %><%= aprvolt26%></td><td><% aprcur26 = @aprcur26 %><%= aprcur26%></td></tr>
                        <tr><td>27</td><td><% aprvolt27 = @aprvolt27  %><%= aprvolt27%></td><td><% aprcur27 = @aprcur27 %><%= aprcur27%></td></tr>
                        <tr><td>28</td><td><% aprvolt28 = @aprvolt28  %><%= aprvolt28%></td><td><% aprcur28 = @aprcur28 %><%= aprcur28%></td></tr>
                        <tr><td>29</td><td><% aprvolt29 = @aprvolt29  %><%= aprvolt29%></td><td><% aprcur29 = @aprcur29 %><%= aprcur29%></td></tr>
                        <tr><td>30</td><td><% aprvolt30 = @aprvolt30  %><%= aprvolt30%></td><td><% aprcur30 = @aprcur30 %><%= aprcur30%></td></tr>
                    </tbody>
                </table>
            </div>
        </center>
    </div>
    <div class="col">
      <center>
          <div class="col col-4">
            <select class="form-control" id="foo">
              <option value="select">Select date...</option>
              <option value="apr1">1 April 2018</option>
              <option value="apr2">2 April 2018</option>
              <option value="apr3">3 April 2018</option>
              <option value="apr4">4 April 2018</option>
              <option value="apr5">5 April 2018</option>
              <option value="apr6">6 April 2018</option>
              <option value="apr7">7 April 2018</option>
              <option value="apr8">8 April 2018</option>
              <option value="apr9">9 April 2018</option>
              <option value="apr10">10 April 2018</option>
              <option value="apr11">11 April 2018</option>
              <option value="apr12">12 April 2018</option>
              <option value="apr13">13 April 2018</option>
              <option value="apr14">14 April 2018</option>
              <option value="apr15">15 April 2018</option>
              <option value="apr16" selected>16 April 2018</option>
              <option value="apr17">17 April 2018</option>
              <option value="apr18">18 April 2018</option>
              <option value="apr19">19 April 2018</option>
              <option value="apr20">20 April 2018</option>
              <option value="apr21">21 April 2018</option>
              <option value="apr22">22 April 2018</option>
              <option value="apr23">23 April 2018</option>
              <option value="apr24">24 April 2018</option>
              <option value="apr25">25 April 2018</option>
              <option value="apr26">26 April 2018</option>
              <option value="apr27">27 April 2018</option>
              <option value="apr28">28 April 2018</option>
              <option value="apr29">29 April 2018</option>
              <option value="apr30">30 April 2018</option>
            </select>
            <br>
          </div>
          <div class="row"><div class="col col-xs-11"><canvas id="mycanvas1volt"  width="150px" height="60px"></canvas></div></div>
          <div class="row"><div class="col col-xs-11"><canvas id="mycanvas1cur"  width="150px" height="60px"></canvas></div></div>
        </center>
      </div>
    </div>
</div>
<script>
    document.getElementById("foo").onchange = function() {
        if (this.selectedIndex!==0) {
            window.location.href = this.value;
        }        
    };
</script>

</div>
<script> 
  var D = ['1', '2', '3','4', '5', '6', '7', '8', '9', '10', '11', '12', '13', '14', '15', '16', '17', '18', '19', '20', '21', '22', '23', '24', '25', '26', '27', '28', '29', '30'];
  var config = {
    type: 'bar',
    data: {
      labels: D,
      datasets: [{
        label: 'Voltage',
        backgroundColor: "#11f",
        borderColor: "#11f",
       data: [<%= aprvolt1%>,<%= aprvolt2%>,<%= aprvolt3%>,<%= aprvolt4%>,<%= aprvolt5%>,<%= aprvolt6%>,
        <%= aprvolt7%>,<%= aprvolt8%>,<%= aprvolt9%>,<%= aprvolt10%>,<%= aprvolt11%>,<%= aprvolt12%>,
        <%= aprvolt13%>,<%= aprvolt14%>,<%= aprvolt15%>,<%= aprvolt16%>,<%= aprvolt17%>,<%= aprvolt18%>,
        <%= aprvolt19%>,<%= aprvolt20%>,<%= aprvolt21%>,<%= aprvolt22%>,<%= aprvolt23%>,<%= aprvolt24%>,
        <%= aprvolt25%>,<%= aprvolt26%>,<%= aprvolt27%>,<%= aprvolt28%>,<%= aprvolt29%>,<%= aprvolt30%>],

        fill: false,
      }]
    },
    options: {
      responsive: true,
      title: {
        display: true,
      },
      tooltips: {
        mode: 'index',
        intersect: false,
      },
      hover: {
        mode: 'nearest',
        intersect: true
      },
      scales: {
        xAxes: [{
          display: true,
          scaleLabel: {
            display: true,
            labelString: 'Date'
          }
        }],
        yAxes: [{
          display: true,
          scaleLabel: {
            display: true,
            labelString: 'Voltage(v)'
          }
        }]
      }
    }
  };
  var config2 = {
    type: 'bar',
    data: {
      labels: D,
      datasets: [{
        label: 'Current',
        backgroundColor: "#a11",
        borderColor: "#a11",
        data: [<%= aprcur1%>,<%= aprcur2%>,<%= aprcur3%>,<%= aprcur4%>,<%= aprcur5%>,<%= aprcur6%>,
        <%= aprcur7%>,<%= aprcur8%>,<%= aprcur9%>,<%= aprcur10%>,<%= aprcur11%>,<%= aprcur12%>,
        <%= aprcur13%>,<%= aprcur14%>,<%= aprcur15%>,<%= aprcur16%>,<%= aprcur17%>,<%= aprcur18%>,
        <%= aprcur19%>,<%= aprcur20%>,<%= aprcur21%>,<%= aprcur22%>,<%= aprcur23%>,<%= aprcur24%>,
        <%= aprcur25%>,<%= aprcur26%>,<%= aprcur27%>,<%= aprcur28%>,<%= aprcur29%>,<%= aprcur30%>],
        fill: false,
      }]
    },
    options: {
      responsive: true,
      title: {
        display: true,
      },
      tooltips: {
        mode: 'index',
        intersect: false,
      },
      hover: {
        mode: 'nearest',
        intersect: true
      },
      scales: {
        xAxes: [{
          display: true,
          scaleLabel: {
            display: true,
            labelString: 'Date'
          }
        }],
        yAxes: [{
          display: true,
          scaleLabel: {
            display: true,
            labelString: 'Voltage(v)'
          }
        }]
      }
    }
  };    
  var T1 = [<% for app in @searchapr16%>"<%= app.created_at.strftime("%I:%M %p") %>",<%end%>];
  var config1volt = {
    type: 'line',
    data: {
      labels: T1,
      datasets: [{label: 'Voltage', backgroundColor: "#11a", borderColor: "#11a",data: [<% for app in @searchapr16%><%= app.Voltage %>,<%end%>],fill: false,}]
    },
    options: {responsive: true,scales: {
        xAxes: [{display: true,scaleLabel: {display: true,labelString: 'Time'}}],
        yAxes: [{display: true,scaleLabel: {display: true,labelString: 'Voltage(v)'}}]
      }
    }
  };
  var config1cur = {
    type: 'line',
    data: {
      labels: T1,
      datasets: [{label: 'Current',backgroundColor: "#a11",borderColor: "#a11", data: [<% for app in @searchapr16%><%= app.Current %>,<%end%>],fill: false,}]
    },
    options: {responsive: true,scales: {
        xAxes: [{display: true,scaleLabel: {display: true,labelString: 'Time'}}],
        yAxes: [{display: true,scaleLabel: {display: true,labelString: 'Current(mA)'}}]
      }
    }
  };
  var ctx = document.getElementById('mycanvas').getContext('2d');
  window.myLine = new Chart(ctx, config);
  var ctx2 = document.getElementById('mycanvas2').getContext('2d');
  window.myLine = new Chart(ctx2, config2);
  var ctx1volt = document.getElementById('mycanvas1volt').getContext('2d');
  window.myLine = new Chart(ctx1volt, config1volt);
  var ctx1cur = document.getElementById('mycanvas1cur').getContext('2d');
  window.myLine = new Chart(ctx1cur, config1cur);
</script>  
