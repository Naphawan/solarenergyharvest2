
<script type="text/javascript" src="http://iop.io/js/vendor/d3.v3.min.js"></script>
<script type="text/javascript" src="http://iop.io/js/vendor/polymer/PointerEvents/pointerevents.js"></script>
<script type="text/javascript" src="http://iop.io/js/vendor/polymer/PointerGestures/pointergestures.js"></script>
<script type="text/javascript" src="http://iop.io/js/iopctrl.js"></script>
<script type="text/javascript" src="http://bernii.github.io/gauge.js/dist/gauge.min.js"></script>
<div class="row">
  <div class="col col-12">
    <%= image_tag  "sun.png", height: '45', width: '45' %>
    <div class="daytime">
      <span id="date"></span>
      <span id="timenav"></span>
    </div>
  </div>
</div>
<div class="row">
  <div class="col">
    <center>
      <div class="col col-4">
        <select class="form-control" id="month">
          <option value="select" selected>Select month...</option>
          <option value="history">DECEMBER 2018</option>
          <option value="january2018">JANUARY 2018</option>
          <option value="february2018">FEBRUARY 2018</option>
          <option value="march2018">MARCH 2018</option>
          <option value="april2018">APRIL 2018</option>
          <option value="may2018">MAY 2018</option>
          <option value="june2018">JUNE 2018</option>
          <option value="july2018">JULY 2018</option>
          <option value="august2018">AUGUST 2018</option>
          <option value="september2018">SEPTEMBER 2018</option>
          <option value="october2018">OCTOBER 2018</option>
          <option value="november2018">NOVEMBER 2018</option>
          <option value="december2018">DECEMBER 2018</option>
        </select>
        <br>
      </div>
    </center>
  </div>
</div>
<script>
    document.getElementById("month").onchange = function() {
        if (this.selectedIndex!==0) {
            window.location.href = this.value;
        }        
    };
</script>
<br>
<div class="row">
    <div class="col">
        <center>
            <span>
                <p class="value1">FEBRUARY 2017</p>
            <span>
        </center>
    </div>
</div>
<br>


<div class="row">
    <div class= "col" >
        <canvas id="mycanvas"  width="100px" height="50px"></canvas>
    </div>
    <div class= "col" >
        <canvas id="mycanvas2"  width="100px" height="50px"></canvas>
    </div>
</div>

<!--Table-->
<div class="row">
<!--Table day-->
    <div class="col-md-6 col-sm-6 col-xs-12">
        <center>
            <div>
              <table class="table table-hover table-striped">
                  <thead class="thead-dark">
                        <tr>
                            <th>Date</th>
                            <th>AVG Voltage (v)</th>
                            <th>AVG Current (mA)</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr><td>1</td><td><% febvolt1 = @febvolt1 %><%= febvolt1%></td><td><% febcur1 = @febcur1 %><%= febcur1%></td></tr>
                        <tr><td>2</td><td><% febvolt2 = @febvolt2  %><%= febvolt2%></td><td><% febcur2 = @febcur2 %><%= febcur2%></td></tr>
                        <tr><td>3</td><td><% febvolt3 = @febvolt3  %><%= febvolt3%></td><td><% febcur3 = @febcur3 %><%= febcur3%></td></tr>
                        <tr><td>4</td><td><% febvolt4 = @febvolt4  %><%= febvolt4%></td><td><% febcur4 = @febcur4 %><%= febcur4%></td></tr>
                        <tr><td>5</td><td><% febvolt5 = @febvolt5  %><%= febvolt5%></td><td><% febcur5 = @febcur5 %><%= febcur5%></td></tr>
                        <tr><td>6</td><td><% febvolt6 = @febvolt6  %><%= febvolt6%></td><td><% febcur6 = @febcur6 %><%= febcur6%></td></tr>
                        <tr><td>7</td><td><% febvolt7 = @febvolt7  %><%= febvolt7%></td><td><% febcur7 = @febcur7 %><%= febcur7%></td></tr>
                        <tr><td>8</td><td><% febvolt8 = @febvolt8  %><%= febvolt8%></td><td><% febcur8 = @febcur8 %><%= febcur8%></td></tr>
                        <tr><td>9</td><td><% febvolt9 = @febvolt9  %><%= febvolt9%></td><td><% febcur9 = @febcur9 %><%= febcur9%></td></tr>
                        <tr><td>10</td><td><% febvolt10 = @febvolt10  %><%= febvolt10%></td><td><% febcur10 = @febcur10 %><%= febcur10%></td></tr>
                        <tr><td>11</td><td><% febvolt11 = @febvolt11  %><%= febvolt11%></td><td><% febcur11 = @febcur11 %><%= febcur11%></td></tr>
                        <tr><td>12</td><td><% febvolt12 = @febvolt12  %><%= febvolt12%></td><td><% febcur12 = @febcur12 %><%= febcur12%></td></tr>
                        <tr><td>13</td><td><% febvolt13 = @febvolt13  %><%= febvolt13%></td><td><% febcur13 = @febcur13 %><%= febcur13%></td></tr>
                        <tr><td>14</td><td><% febvolt14 = @febvolt14  %><%= febvolt14%></td><td><% febcur14 = @febcur14 %><%= febcur14%></td></tr>
                        <tr><td>15</td><td><% febvolt15 = @febvolt15  %><%= febvolt15%></td><td><% febcur15 = @febcur15 %><%= febcur15%></td></tr>
                        <tr><td>16</td><td><% febvolt16 = @febvolt16  %><%= febvolt16%></td><td><% febcur16 = @febcur16 %><%= febcur16%></td></tr>
                        <tr><td>17</td><td><% febvolt17 = @febvolt17  %><%= febvolt17%></td><td><% febcur17 = @febcur17 %><%= febcur17%></td></tr>
                        <tr><td>18</td><td><% febvolt18 = @febvolt18  %><%= febvolt18%></td><td><% febcur18 = @febcur18 %><%= febcur18%></td></tr>
                        <tr><td>19</td><td><% febvolt19 = @febvolt19  %><%= febvolt19%></td><td><% febcur19 = @febcur19 %><%= febcur19%></td></tr>
                        <tr><td>20</td><td><% febvolt20 = @febvolt20  %><%= febvolt20%></td><td><% febcur20 = @febcur20 %><%= febcur20%></td></tr>
                        <tr><td>21</td><td><% febvolt21 = @febvolt21  %><%= febvolt21%></td><td><% febcur21 = @febcur21 %><%= febcur21%></td></tr>
                        <tr><td>22</td><td><% febvolt22 = @febvolt22  %><%= febvolt22%></td><td><% febcur22 = @febcur22 %><%= febcur22%></td></tr>
                        <tr><td>23</td><td><% febvolt23 = @febvolt23  %><%= febvolt23%></td><td><% febcur23 = @febcur23 %><%= febcur23%></td></tr>
                        <tr><td>24</td><td><% febvolt24 = @febvolt24  %><%= febvolt24%></td><td><% febcur24 = @febcur24 %><%= febcur24%></td></tr>
                        <tr><td>25</td><td><% febvolt25 = @febvolt25  %><%= febvolt25%></td><td><% febcur25 = @febcur25 %><%= febcur25%></td></tr>
                        <tr><td>26</td><td><% febvolt26 = @febvolt26  %><%= febvolt26%></td><td><% febcur26 = @febcur26 %><%= febcur26%></td></tr>
                        <tr><td>27</td><td><% febvolt27 = @febvolt27  %><%= febvolt27%></td><td><% febcur27 = @febcur27 %><%= febcur27%></td></tr>
                        <tr><td>28</td><td><% febvolt28 = @febvolt28  %><%= febvolt28%></td><td><% febcur28 = @febcur28 %><%= febcur28%></td></tr>

 


                    </tbody>
                </table>
            </div>
        </center>
    </div>
            <div class="col">
      <center>
          <div class="col col-4">
            <select class="form-control" id="foo">
              <option value="select">Select date...</option>
              <option value="feb1">1 February 2018</option>
              <option value="feb2">2 February 2018</option>
              <option value="feb3">3 February 2018</option>
              <option value="feb4">4 February 2018</option>
              <option value="feb5">5 February 2018</option>
              <option value="feb6">6 February 2018</option>
              <option value="feb7">7 February 2018</option>
              <option value="feb8">8 February 2018</option>
              <option value="feb9">9 February 2018</option>
              <option value="feb10">10 February 2018</option>
              <option value="feb11">11 February 2018</option>
              <option value="feb12">12 February 2018</option>
              <option value="feb13">13 February 2018</option>
              <option value="feb14">14 February 2018</option>
              <option value="feb15">15 February 2018</option>
              <option value="feb16">16 February 2018</option>
              <option value="feb17">17 February 2018</option>
              <option value="feb18">18 February 2018</option>
              <option value="feb19">19 February 2018</option>
              <option value="feb20">20 February 2018</option>
              <option value="feb21">21 February 2018</option>
              <option value="feb22">22 February 2018</option>
              <option value="feb23">23 February 2018</option>
              <option value="feb24" selected>24 February 2018</option>
              <option value="feb25">25 February 2018</option>
              <option value="feb26">26 February 2018</option>
              <option value="feb27">27 February 2018</option>
              <option value="feb28">28 February 2018</option>
            </select>
            <br>
          </div>
            <div class="row"><div class="col col-xs-11"><canvas id="mycanvas1volt"  width="150px" height="60px"></canvas></div></div>
            <div class="row"><div class="col col-xs-11"><canvas id="mycanvas1cur"  width="150px" height="60px"></canvas></div></div>
        </center>
      </div>
    </div>
</div>
<script>
    document.getElementById("foo").onchange = function() {
        if (this.selectedIndex!==0) {
            window.location.href = this.value;
        }        
    };
</script>
</div>

<script> 
  var D = ['1', '2', '3','4', '5', '6', '7', '8', '9', '10', '11', '12', '13', '14', '15', '16', '17', '18', '19', '20', '21', '22', '23', '24', '25', '26', '27', '28'];
  var config = {
    type: 'bar',
    data: {
      labels: D,
      datasets: [{
        label: 'Voltage',
        backgroundColor: "#11f",
        borderColor: "#11f",
        data: [<%= febvolt1%>,<%= febvolt2%>,<%= febvolt3%>,<%= febvolt4%>,<%= febvolt5%>,<%= febvolt6%>,
        <%= febvolt7%>,<%= febvolt8%>,<%= febvolt9%>,<%= febvolt10%>,<%= febvolt11%>,<%= febvolt12%>,
        <%= febvolt13%>,<%= febvolt14%>,<%= febvolt15%>,<%= febvolt16%>,<%= febvolt17%>,<%= febvolt18%>,
        <%= febvolt19%>,<%= febvolt20%>,<%= febvolt21%>,<%= febvolt22%>,<%= febvolt23%>,<%= febvolt24%>,
        <%= febvolt25%>,<%= febvolt26%>,<%= febvolt27%>,<%= febvolt28%>],
        fill: false,
      }]
    },
    options: {
      responsive: true,
      title: {
        display: true,
      },
      tooltips: {
        mode: 'index',
        intersect: false,
      },
      hover: {
        mode: 'nearest',
        intersect: true
      },
      scales: {
        xAxes: [{
          display: true,
          scaleLabel: {
            display: true,
            labelString: 'Date'
          }
        }],
        yAxes: [{
          display: true,
          scaleLabel: {
            display: true,
            labelString: 'Voltage(v)'
          }
        }]
      }
    }
  };
  var config2 = {
    type: 'bar',
    data: {
      labels: D,
      datasets: [{
        label: 'Current',
        backgroundColor: "#a11",
        borderColor: "#a11",
        data: [<%= febcur1%>,<%= febcur2%>,<%= febcur3%>,<%= febcur4%>,<%= febcur5%>,<%= febcur6%>,
        <%= febcur7%>,<%= febcur8%>,<%= febcur9%>,<%= febcur10%>,<%= febcur11%>,<%= febcur12%>,
        <%= febcur13%>,<%= febcur14%>,<%= febcur15%>,<%= febcur16%>,<%= febcur17%>,<%= febcur18%>,
        <%= febcur19%>,<%= febcur20%>,<%= febcur21%>,<%= febcur22%>,<%= febcur23%>,<%= febcur24%>,
        <%= febcur25%>,<%= febcur26%>,<%= febcur27%>,<%= febcur28%>],



        fill: false,
      }]
    },
    options: {
      responsive: true,
      title: {
        display: true,
      },
      tooltips: {
        mode: 'index',
        intersect: false,
      },
      hover: {
        mode: 'nearest',
        intersect: true
      },
      scales: {
        xAxes: [{
          display: true,
          scaleLabel: {
            display: true,
            labelString: 'Date'
          }
        }],
        yAxes: [{
          display: true,
          scaleLabel: {
            display: true,
            labelString: 'Voltage(v)'
          }
        }]
      }
    }
  };
    var T1 = [<% for app in @searchfeb24%>"<%= app.created_at.strftime("%I:%M %p") %>",<%end%>];
  var config1volt = {
    type: 'line',
    data: {
      labels: T1,
      datasets: [{label: 'Voltage', backgroundColor: "#11a", borderColor: "#11a",data: [<% for app in @searchfeb24%><%= app.Voltage %>,<%end%>],fill: false,}]
    },
    options: {responsive: true,scales: {
        xAxes: [{display: true,scaleLabel: {display: true,labelString: 'Time'}}],
        yAxes: [{display: true,scaleLabel: {display: true,labelString: 'Voltage(v)'}}]
      }
    }
  };
  var config1cur = {
    type: 'line',
    data: {
      labels: T1,
      datasets: [{label: 'Current',backgroundColor: "#a11",borderColor: "#a11", data: [<% for app in @searchfeb24%><%= app.Current %>,<%end%>],fill: false,}]
    },
    options: {responsive: true,scales: {
        xAxes: [{display: true,scaleLabel: {display: true,labelString: 'Time'}}],
        yAxes: [{display: true,scaleLabel: {display: true,labelString: 'Current(mA)'}}]
      }
    }
  };
  var ctx = document.getElementById('mycanvas').getContext('2d');
  window.myLine = new Chart(ctx, config);
  var ctx2 = document.getElementById('mycanvas2').getContext('2d');
  window.myLine = new Chart(ctx2, config2);
var ctx1volt = document.getElementById('mycanvas1volt').getContext('2d');
  window.myLine = new Chart(ctx1volt, config1volt);
  var ctx1cur = document.getElementById('mycanvas1cur').getContext('2d');
  window.myLine = new Chart(ctx1cur, config1cur);
</script>  
